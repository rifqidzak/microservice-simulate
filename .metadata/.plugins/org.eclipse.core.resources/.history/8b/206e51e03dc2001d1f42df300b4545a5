package com.example.microservice.userservice.service.base;

import java.util.ArrayList;
import java.util.List;

import com.example.microservice.core.base.dto.BaseGetResData;
import com.example.microservice.userservice.dto.GetUserDataDto;
import com.example.microservice.userservice.model.User;
import com.google.common.base.Optional;

public class BaseUserService {
	protected BaseGetResData<GetUserDataDto> setToDto(List<User> data) {
		final List<GetUserDataDto> dtos = new ArrayList<>();
		for (User user : data) {
			GetUserDataDto dto = setToDto(user);
			dtos.add(dto);
		}
		return setToBaseGetResData(dtos);
	}

	protected GetUserDataDto setToDto(User data) {
		final GetUserDataDto user = new GetUserDataDto();
			user.setEmail(data.getEmail());
			user.setName(data.getName());
		return user;
	}

	protected ProductGetDataDto setToDto(Optional<Product> data) {
		final ProductGetDataDto product = new ProductGetDataDto();
		if (data.isPresent()) {
			Product productData = new Product();
			productData = data.get();

			product.setCode(productData.getCode());
			product.setId(productData.getId());
			product.setName(productData.getName());
			product.setPrice(productData.getPrice());
			product.setStock(productData.getStock());
			product.setVersion(productData.getVersion());
		}

		return product;
	}

	protected BaseGetResData<List<GetUserDataDto>> setToBaseGetResData(List<GetUserDataDto> dtos) {
		final BaseGetResData<List<GetUserDataDto>> baseGetResData = new BaseGetResData<>();
		baseGetResData.setData(dtos);
		return baseGetResData;
	}

	protected BaseGetResData<GetUserDataDto> setToBaseGetResData(GetUserDataDto dto) {
		final BaseGetResData<GetUserDataDto> baseGetResData = new BaseGetResData<>();
		baseGetResData.setData(dto);
		return baseGetResData;
	}
}
